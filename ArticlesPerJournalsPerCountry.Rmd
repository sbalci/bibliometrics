---
title: "Bibliographic Studies"
subtitle: "Articles per journals per country"
author: "Serdar Balcı, MD, Pathologist"
date: '`r format(Sys.Date())`'
output: 
  html_notebook: 
    code_folding: hide
    fig_caption: yes
    highlight: kate
    number_sections: yes
    theme: cerulean
    toc: yes
    toc_float: yes
  html_document: 
    code_folding: hide
    df_print: kable
    keep_md: yes
    number_sections: yes
    theme: cerulean
    toc: yes
    toc_float: yes
    highlight: kate
---


If you want to see the code used in the analysis please click the code button on the right upper corner or throughout the page. 

I would like to hear your feedback: https://goo.gl/forms/YjGZ5DHgtPlR1RnB3

This document will be continiously updated and the last update was on `r Sys.Date()`.


---

# Analysis

```{r setup, include=FALSE}
knitr::opts_chunk$set(message=FALSE, warning=FALSE, tidy = TRUE)
```




**Aim:**



**Methods:**

```{r load required packages}
# load required packages
library(tidyverse)
library(RISmed)
```

Pathology Journal ISSN List was retrieved from [In Cites Clarivate](https://jcr.incites.thomsonreuters.com/), and Journal Data Filtered as follows: `JCR Year: 2016 Selected Editions: SCIE,SSCI Selected Categories: 'PATHOLOGY' Selected Category Scheme: WoS`

```{r Get ISSN List from data downloaded from WoS}
# Get ISSN List from data downloaded from WoS
ISSNList <- JournalHomeGrid <- read_csv("data/JournalHomeGrid.csv", 
                                        skip = 1) %>% 
    select(ISSN) %>% 
    filter(!is.na(ISSN)) %>% 
    t() %>% 
    paste("OR ", collapse = "") # add OR between ISSN List

ISSNList <- gsub(" OR $","" ,ISSNList) # to remove last OR
```

Data is retrieved from PubMed via RISmed package.
PubMed collection from National Library of Medicine (https://www.ncbi.nlm.nih.gov/pubmed/), has the most comprehensive information about peer reviewed articles in medicine.
The API (https://dataguide.nlm.nih.gov/), and R packages are available for getting and fetching data from the server.

The search formula for PubMed is generated as "ISSN List AND Country[Affiliation]" like done in [advanced search of PubMed](https://www.ncbi.nlm.nih.gov/pubmed/advanced).

```{r Generate Search Formula For Pathology Journals AND Countries}
# Generate Search Formula For Pathology Journals AND Countries
searchformulaTR <- paste("'",ISSNList,"'", " AND ", "Turkey[Affiliation]")
searchformulaDE <- paste("'",ISSNList,"'", " AND ", "Germany[Affiliation]")
searchformulaJP <- paste("'",ISSNList,"'", " AND ", "Japan[Affiliation]")
```



```{r Search PubMed, Get and Fetch}
# Search PubMed, Get and Fetch
TurkeyArticles <- EUtilsSummary(searchformulaTR, type = 'esearch', db = 'pubmed', mindate = 2007, maxdate = 2017, retmax = 10000)
fetchTurkey <- EUtilsGet(TurkeyArticles)

GermanyArticles <- EUtilsSummary(searchformulaDE, type = 'esearch', db = 'pubmed', mindate = 2007, maxdate = 2017, retmax = 10000)
fetchGermany <- EUtilsGet(GermanyArticles)

JapanArticles <- EUtilsSummary(searchformulaJP, type = 'esearch', db = 'pubmed', mindate = 2007, maxdate = 2017, retmax = 10000)
fetchJapan <- EUtilsGet(JapanArticles)
```



```{r}

ISSNTR <- table(ISSN(fetchTurkey)) %>% 
    as_tibble() %>% 
    rename(Turkey = n, Journal = Var1)

ISSNDE <- table(ISSN(fetchGermany)) %>% 
    as_tibble() %>% 
    rename(Germany = n, Journal = Var1)

ISSNJP <- table(ISSN(fetchJapan)) %>% 
    as_tibble() %>% 
    rename(Japan = n, Journal = Var1)

articles_per_journal <- list(
    ISSNTR,
    ISSNDE,
    ISSNJP
) %>%
    reduce(left_join, by = "Journal", .id = "id") %>% 
    gather(Country, n, 2:4)

articles_per_journal$Country <- factor(articles_per_journal$Country,
                                       levels =c("Japan", "Germany", "Turkey"))

```





**Result:**


Graph 2

```{r}
ggplot(data = articles_per_journal, aes(x = Journal, y = n, group = Country,
                                     colour = Country, shape = Country,
                                     levels = Country
)) +
    geom_point() +
    labs(x = "Journals with decreasing impact factor", y = "Number of Articles") +
    ggtitle("Pathology Articles Per Journal") + 
    theme(plot.title = element_text(hjust = 0.5),
          axis.text.x=element_blank())

```



**Comment:**



**Future Work:**




---




# Feedback

[Serdar Balcı, MD, Pathologist](https://github.com/sbalci) would like to hear your feedback: https://goo.gl/forms/YjGZ5DHgtPlR1RnB3

This document will be continiously updated and the last update was on `r Sys.Date()`.

---

# Back to Main Menu

[Main Page for Bibliographic Analysis](https://sbalci.github.io/pubmed/BibliographicStudies.html)